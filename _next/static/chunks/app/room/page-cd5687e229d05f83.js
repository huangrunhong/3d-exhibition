(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{435:function(e,n,t){Promise.resolve().then(t.bind(t,88974))},88974:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var r=t(57437),i=t(2265),a=t(68689),o=t(62152);let s=e=>{e.collisionsEnabled=!0,e.gravity=new a.Pa4(0,-.1635,0)},l=e=>{e.applyGravity=!0,e.checkCollisions=!0,e.ellipsoid=new a.Pa4(1,1,1)},c=(e,n)=>{let t=new a.cEJ("camera",new a.Pa4(6.5,1.6,0),e);return t.fov=.6,t.speed=.5,t.setTarget(new a.Pa4(0,1.6,0)),t.attachControl(n,!0),l(t),t},u=e=>{let n=new a.ezm("light",new a.Pa4(0,1,0),e);return n.intensity=.7,n},d=(e,n,t,r,i,a)=>{let s=new o.O7("reset",{width:.2,height:.2,depth:.01});r.addControl(s),s.position.x=e,s.position.y=n,s.position.z=t;let l=new o.al;return l.text=a,l.color="white",l.fontSize=48,s.content=l,s.pointerEnterAnimation=()=>void 0,s},h=async e=>{let n=new a.D4V(e,!0,{preserveDrawingBuffer:!0,stencil:!0}),t=new a.xsS(n),r=new a.ev7("/3d-exhibition/berlin.hdr",t,128,!1,!0,!1,!0);return t.environmentTexture=r,t.createDefaultSkybox(r,!0,1e3),s(t),u(t),c(t,e),await (0,a.k7H)("/3d-exhibition/scene.glb",t),t.meshes.forEach(e=>{(e.name.startsWith("Ground")||e.name.startsWith("Wall")||e.name.startsWith("Window")||e.name.startsWith("Table")||e.name.startsWith("Binder"))&&(e.checkCollisions=!0)}),t.animationGroups.forEach(e=>{let n=new o.iU(t),r=new a.KuD("buttonMaterial",t);if("Door_entrance"===e.name){e.stop();let t=d(1,1.5,-1.5,n,r,"OPEN");t.node&&(t.node.rotation=new a.Pa4(0,-Math.PI/2,0)),t.onPointerClickObservable.add(function(){e.start(),e.speedRatio=2})}"Door_social space"===e.name&&(e.stop(),d(-10,1.5,3.15,n,r,"OPEN").onPointerClickObservable.add(function(){e.start(),e.speedRatio=2}))}),n.runRenderLoop(()=>t.render()),t};t(67938);var w=()=>{let e=(0,i.useRef)(!1),n=(0,i.useRef)(),t=(0,i.useRef)(null);return(0,i.useEffect)(()=>{(async()=>{!e.current&&t.current&&(e.current=!0,t.current.width=window.innerWidth,t.current.height=window.innerHeight,n.current=await h(t.current))})()},[]),(0,r.jsx)("canvas",{ref:t})}}},function(e){e.O(0,[735,105,732,217,152,971,117,744],function(){return e(e.s=435)}),_N_E=e.O()}]);